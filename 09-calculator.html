<!DOCTYPE html>
<html>
  <head>
    <title>Calculator</title>
  </head>

  <body>
    <button onclick = "
      updateCalculation('1');
      ">1</button>

    <button onclick = "
      updateCalculation('2');
    ">2</button>

    <button onclick = "
      updateCalculation('3');
    ">3</button>

    <button onclick = "
      updateCalculation('4');
    ">4</button>

    <button onclick = "
      updateCalculation('5');
    ">5</button>

    <button onclick = "
      const calculation = getCalculation();
      if(calculation.lastIndexOf(' ') != calculation.length-1) updateCalculation(' + ');
    ">+</button>

    <button onclick = "
    document.querySelector('.display-calc')
      .innerHTML = eval(localStorage.getItem('calculation'));
    ">=</button>

    <button onclick="
      localStorage.removeItem('calculation');
      showCalculation();
    ">reset</button>

    <p class="display-calc"></p>

    <script>
      showCalculation();

      function getCalculation(){
        return localStorage.getItem('calculation') || '';
      }

      function showCalculation(){
        document.querySelector('.display-calc')
          .innerHTML = getCalculation();
      }
      
      function updateCalculation(calcVar=''){
        let calculation = getCalculation();

        if(calcVar === ' + '){
          calculation += ' + ';
        } else {
          calculation += calcVar;
        }
        localStorage.setItem('calculation', calculation);
        document.querySelector('.display-calc')
          .innerHTML = calculation;
      }
      

    </script>
  </body>
</html>